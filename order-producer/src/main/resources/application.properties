spring.application.name=kafka-order-producer-malisha-apd

# --- Kafka cluster & security (override via env vars for Confluent Cloud) ---
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
spring.kafka.client-id=order-producer
spring.kafka.properties.security.protocol=${KAFKA_SECURITY_PROTOCOL:PLAINTEXT}
spring.kafka.properties.sasl.mechanism=${KAFKA_SASL_MECHANISM:PLAIN}
spring.kafka.properties.sasl.jaas.config=${KAFKA_SASL_JAAS_CONFIG:org.apache.kafka.common.security.plain.PlainLoginModule required username='${KAFKA_API_KEY:changeme}' password='${KAFKA_API_SECRET:changeme}';}

# --- Schema registry ---
spring.kafka.properties.schema.registry.url=${SCHEMA_REGISTRY_URL:http://localhost:8081}
spring.kafka.properties.basic.auth.credentials.source=${SCHEMA_REGISTRY_AUTH_SOURCE:USER_INFO}
spring.kafka.properties.basic.auth.user.info=${SCHEMA_REGISTRY_API_KEY:changeme}:${SCHEMA_REGISTRY_API_SECRET:changeme}

# --- Serialization (Avro) ---
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer

# --- Order topics ---
order.topic.name=orders
order.topic.dlq=orders-dlq
order.topic.partitions=3
order.topic.replication-factor=3
order.topic.auto-create.enabled=true

# --- Producer behavior ---
order.producer.retry.max-attempts=3
order.producer.retry.backoff=500
order.producer.auto-generate.enabled=false
order.producer.auto-generate.interval-ms=2000

# --- Frontend demo ---
order.ui.allowed-origins=${ORDER_UI_ALLOWED_ORIGINS:*}
